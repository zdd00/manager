<!doctype html>
<html>
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no"/>
    <title>无标题文档</title>
    {load href="/static/css/order.css" /}

</head>

<body>
<div class="main">
    <div class="left-menu">
        <ul>
            {volist name="list" id="vo"}
            {eq name="i" value="1"}
            <li class="active">{$key}</li>
            {else/}
            <li>{$key}</li>
            {/eq}
            {/volist}
        </ul>
    </div>
    <div class="con">
        {volist name="list" id="vo"}
        <div class="right-con {eq name="i" value="1"}con-active{/eq}">
            <ul>
                {volist name="vo" id="v"}
                <li>
                    <div class="menu-img"><img src="/static/images/pic.png" width="55" height="55"/></div>
                    <div class="menu-txt">
                        <h4>{$v.product_name}</h4>
                        <b>属于:{$v.type_name}</b>
                        <div class="btn">
                            <button class="minus">
                                <strong></strong>
                            </button>
                            <i>0</i>
                            <button class="add">
                                <strong></strong>
                            </button>
                            <i class="price">25</i>
                        </div>
                    </div>
                </li>
                {/volist}
            </ul>
        </div>
        {/volist}
    </div>
    <div class="footer">
        <div class="left">查看菜单
        </div>
        <div class="right">
            <a id="btnselect" class="xhlbtn" href="javascript:void(0)">提交菜单</a>
        </div>
    </div>
</div>

{load href="/static/js/jquery.min.js" /}
<script type="text/javascript">
    $(function () {
        resizeH();
        $(window).resize(function () {
            resizeH();
        });






        //加的效果
        $(".add").click(function () {
            $(this).prevAll().css("display", "inline-block");
            var n = $(this).prev().text();
            var num = parseInt(n) + 1;
            if (num == 0) {
                return;
            }
            $(this).prev().text(num);
        });
        //减的效果
        $(".minus").click(function () {
            var n = $(this).next().text();
            var num = parseInt(n) - 1;
            $(this).next().text(num);//减1
            //如果数量小于或等于0则隐藏减号和数量
            if (num <= 0) {
                $(this).next().css("display", "none");
                $(this).css("display", "none");
                return false;
            }
        });

        function resizeH() {
            var height = window.innerHeight - 45;
            $('.right-con').height(height);
            $('.left-menu').height(height);
        }

        //选项卡
        $(".con>div").hide();
        $(".con>div:eq(0)").show();

        $(".left-menu li").click(function () {
            $(this).addClass("active").siblings().removeClass("active");
            var n = $(".left-menu li").index(this);
            $(".left-menu li").index(this);
            $(".con>div").hide();
            $(".con>div:eq(" + n + ")").show();
        });

        function getOrder(){
            $('.con').on('click',function(){

            })
        }
    });
</script>

</body>
</html>
